---
title: Добавление тестовых данных
sidebar: guide-practical-guides_sidebar
keywords: guide, ember, ember-cli, REST-архитектура
toc: true
permalink: ru/gpg_filling-application-primary-data.html
lang: ru
---

Для возможности проверки работоспособности приложения в процессе дальнейших доработок, добавим тестовые данные в сгенерированное приложение.

## Сотрудники

Добавим нового сотрудника. Для этого необходимо нажать на кнопку "**Добавить**" над соответствующей таблицей на станице "**Сотрудники**":

![Список "Сотрудников"](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-1.png)

Заполним поля на форме редактирования сотрудника следующим образом:

![Новый сотрудник Иванов](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-2.png)

> *<u>Фамилия</u>*: Иванов  
> *<u>Имя</u>*: Иван  
> *<u>Отчество</u>*: Иванович  
> *<u>Телефон</u>*: 200-00-01  
> *<u>Электронная почта</u>*: ivanovii@shop.ru  
> *<u>Должность</u>*: Кладовщик

{% include note.html content="Поле табельный номер уже заполнено со значением 1. Это - результат установки для него автоинкремента и значения по умолчанию. Значение этого поля мы вручную менять не будем." %}

Нажмем кнопку **`[Сохранить]`** и перейдем обратно на страницу "**Сотрудники**".

![Список сотрудников с первой записью](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-3.png)

В результате проделанных действий мы можем увидеть первую запись в списке сотрудников.

---

**_Самостоятельно_** внесите следующие данные:

**Сотрудники**
> *<u>Фамилия</u>*: Петров  
> *<u>Имя</u>*: Пётр  
> *<u>Отчество</u>*: Петрович  
> *<u>Телефон</u>*: 200-00-02  
> *<u>Электронная почта</u>*: petrovpp@shop.ru  
> *<u>Должность</u>*: Кладовщик  

> *<u>Фамилия</u>*: Александрова  
> *<u>Имя</u>*: Александра  
> *<u>Отчество</u>*: Александровна  
> *<u>Телефон</u>*: 200-00-03  
> *<u>Электронная почта</u>*: aleksandrovaaa@shop.ru  
> *<u>Должность</u>*: Менеджер  

> *<u>Фамилия</u>*: Евгеньева  
> *<u>Имя</u>*: Евгения  
> *<u>Отчество</u>*: Евгеньевна  
> *<u>Телефон</u>*: 200-00-04  
> *<u>Электронная почта</u>*: evgenyevaee@shop.ru  
> *<u>Должность</u>*: Менеджер 

---

При добавлении нового сотрудника табельный номер на форме редактирования изначально всегда имеет значение 1, но после сохранения (необходимо также обновить текущую страницу или перейти на страницу "Сотрудники") мы замечаем, что номер автоматически увеличивается.

![Особенности автонумерации](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-4.png)

Это происходит потому, что автоинкремент в REST-архитектуре (а Ember-приложение, сгенерированное с использованием Flexberry Designer, реализовано в данной архитектуре) работает либо на стороне сервера (как в нашем приложении), либо на стороне клиента. Поскольку автоинкремент в нашем примере работает на стороне сервера, актуальное значение на клиенте мы можем получить только после сохранения новой записи.

Наиболее простым решением вопроса отображения "некорректного" начального значения табельного номера будет скрыть поле "Табельный номер" на форме редактирования и отображать его только на списковой форме. Это мы сделаем далее.

В результате выполнения данного шага мы должны получить следующий вариант списка сотрудников:

![Заполненный список "Сотрудники"](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-5.png)

{% include note.html content="Если удалить последнюю запись (например, у нас это запись с табельным номером 4), то следующая запись будет иметь номер 5, т.к. у последовательности в БД номер 4 уже был использован. Данное поле не предназначено для редактирования вручную, поэтому на это можно не обращать внимание." %}

## Товары

---

**_Самостоятельно_** внесите следующие данные:

**Товары**
> *<u>Наименование</u>*: Монитор Samsung C24F390FHI  
> *<u>Единица измерения</u>*: шт.  
> *<u>Описание</u>*: Диагональ экрана 23.5"(59 см)  
> *<u>Цена за ед.</u>*: 8990  
> *<u>Вес</u>*: 3.3  

> *<u>Наименование</u>*: Монитор игровой MSI Optix MAG241CP  
> *<u>Единица измерения</u>*: шт.  
> *<u>Описание</u>*: Диагональ экрана 24"(60.9 см)  
> *<u>Цена за ед.</u>*: 21990  
> *<u>Вес</u>*: 5.1  

> *<u>Наименование</u>*: Системный блок Acer Aspire XC-330 DT.BD2ER.001  
> *<u>Единица измерения</u>*: шт.  
> *<u>Описание</u>*: Процессор AMD A4 9120e 1.5 ГГц  
> *<u>Цена за ед.</u>*: 19990  
> *<u>Вес</u>*: 5.5  

> *<u>Наименование</u>*: Системный блок игровой Lenovo Legion T530-28ICB MT (90JL00M4RS)  
> *<u>Единица измерения</u>*: шт.  
> *<u>Описание</u>*: Процессор Intel Core i3 8100 3.6 ГГц  
> *<u>Цена за ед.</u>*: 47990  
> *<u>Вес</u>*: 12  

---

В результате выполнения данного шага мы должны получить следующий вариант списка товаров:

![Заполненный список "Товары"](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-6.png)

## Склады

Добавим новый склад:

![Добавление нового склада](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-7.png)

На форме редактирования склада мы можем видеть два поля, соответствующих двум видам связей на исходной диаграмме классов: <span style="color: #22b14c">**мастеровое**</span> (ассоциация) и <span style="color: #00a2e8">**детейловое**</span> (композиция).

Заполним поля на форме следующим образом:

> *<u>Адрес</u>*: ул. Ленина, д. 1, коп. а  
> *<u>Кладовщик</u>*: Петров (Петр Петрович, таб. ном. 2)  
> *<u>Список товаров</u>*:   
> Монитор Samsung C24F390FHI - 4 (шт.)  
> Системный блок Acer Aspire XC-330 DT.BD2ER.001 - 2 (шт.)  
> Монитор игровой MSI Optix MAG241CP - 1 (шт.)  

Выбор значения поля для **мастера**: 

![Лукап "Кладовщик"](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-8.png)

Добавление значения в компонент для **детейла**: 

![Групэдит "Список товаров"](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-9.png)

Выбор значения поля **мастера** в компоненте для **детейла**:

![Добавление товара в строке списка товаров](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-10.png)

В результате форма редактирования склада должна быть заполнена следующим образом:

![Форма редактирования нового склада с заполненными значениями](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-11.png)

После сохранения информации о складе, на списковой форме соответствующая запись отображается следующим образом:

![Список складов с новой записью](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-12.png)

{% include note.html content="На списковой форме детейлы у записей не отображаются." %}

---

**_Самостоятельно_** внесите следующие данные:

**Склады**
> *<u>Адрес</u>*: ул. Ленина, д. 1, коп. б  
> *<u>Кладовщик</u>*: Иванов (Иван Иванович, таб. ном. 1)  
> *<u>Список товаров</u>*:   
> Монитор Samsung C24F390FHI - 1 (шт.)  
> Монитор игровой MSI Optix MAG241CP - 2 (шт.)

---

В результате выполнения данного шага мы должны получить следующий вариант списка складов:

![Заполненная таблица "Склады"](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-13.png)

## Заказ

При создании нового заказа мы увидим следующий вид формы редактирования:

![Новый заказ](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-14.png)

<span style="color: #22b14c">**Часть полей**</span> была заполнена автоматически при создании: 

*<u>Номер</u>* - аналогично полю "Табельный номер" у сотрудника (при сохранении в это поле будет записан уникальный номер);  
*<u>Статус</u>*- **Новый**, в соответствии с указанным значением по умолчанию при проектировании на уровне модели: OrderStatus = New;  
*<u>Дата</u>* - **текущая дата**, в соответствии с указанным значением по умолчанию, унаследованным от класса Document, при проектировании на уровне модели: CreateDate = Now (в соответствующем свойстве модели будет храниться дата и время, но отображается на форме только дата из-за использования соответствующего компонента).

Значение поля <span style="color: #00a2e8">**Стоимость заказа**</span> должно вычисляться автоматически как сумма по всем позициям содержимого заказа.

Компонент <span style="color: #ff7f27">**Содержимое заказа**</span> также содержит часть полей, значение которых должно вычисляться автоматически или валидироваться:

*<u>Цена с налогом</u>* - рассчитывается от цены **Товара** с учетом фиксированной ставки налога;  
*<u>Сумма по позициям</u>* - рассчитывается по формуле [ Цена с налогом ] * [ Количество ];  
*<u>Количество</u>* - необходима проверка наличия указанного количества товара на всех складах вместе взятых.

Таким образом, перед добавлением **Заказа** необходимо предварительно реализовать логику атоматического расчета значений перечисленных полей (а точнее соответствующих свойств модели) в коде приложения. Поэтому новый **Заказ** мы добавим позже в следующих разделах практического руководства.

## Накладная

Для возможности добавления **Накладных** нам также предварительно потребуется реализовать логику автоматического вычисления значений некоторых полей в исходном коде:

![Новая накладная](/images/pages/guides/flexberry-ember/4-2-filling-application-primary-data/4-2-15.png)

На основе выбранного <span style="color: #ff7f27">**Заказа**</span> на форму должны автоматически добавляться:
1. сумма заказа;
2. список товаров к выдаче с возможностью вручную проставить им вес.

При изменении <span style="color: #00a2e8">**веса**</span> товаров автоматически должен вычисляться <span style="color: #00a2e8">**общий вес заказа**</span>.

## Итог

На данном шаге руководства мы заполнили тестовыми данными часть списков, доступных в приложении, за исключением **Накладных** и **Заказов**. Далее мы реализуем логику для автоматического вычисления значений ряда полей на формах редактирования, которые мы ранее упоминали в этом разделе практического руководства.

## Перейти

* [Практическое руководство  «Делай как я»](gpg_landing-page.html) <i class="fa fa-arrow-up" aria-hidden="true"></i>

* [Запуск Ember-приложения](gpg_launch-ember-applications.html) <i class="fa fa-arrow-left" aria-hidden="true"></i>
* [Условное отображение данных на форме](gpg_conditional-display-fields.html) <i class="fa fa-arrow-right" aria-hidden="true"></i>