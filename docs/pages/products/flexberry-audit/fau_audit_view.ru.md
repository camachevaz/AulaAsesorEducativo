---
title: Представление для аудита
sidebar: flexberry-audit_sidebar
keywords: flexberry, audit, auditView
summary: Описание возможностей представления для аудита
toc: true
permalink: ru/fau_audit-view.html
lang: ru
---

Представление для аудита определяет поля, изменения которых будут добавлены в запись аудита.
По умолчанию используется представление `AuditView`, но в настройках аудита можно поменять используемое представление.
Подробнее о настройках аудита можно узнать в статье в [статье](/fau_audit-install.html).

## Собственные поля объекта в представлении аудита

При создании записи аудита, на каждое измененное собственное поле, создается объект `AuditField`. Он является детейлом записи аудита.
Созданный `AuditField` содержит ссылку на запись аудита, имя измененного поля, его старое и новое значения (AuditEntity, Field, OldValue, NewValue).

## Поля мастеров в представлении аудита

Для всех полей мастера в представлении создается два объекта `AuditField`. Первый содержит изменение первичного ключа мастера.
По сути это изменение собственного поля объекта со ссылкой на мастер, содержимое аналогично записи для собственного поля из предыдущего пункта, но к имени поля добавлено `(LinkedPrimaryKey)`.
Второй объект `AuditField` также аналогичензаписи для собственного поля из предыдущего пункта, но в качестве имени поля берется имя поля со ссылкой на мастер, а в качестве старого и нового значения строка вида:
`M(M.F1=V1, M.F2=V2, ...)`, где M - имя поля со ссылкой на мастер, F - поле мастера, V - значение поля мастера.

## Детейлы в представлении аудита

Для детейла в представлении, для кажлой записи детейла создается по два объекта `AuditField`, аналогично полю мастера из предыдущего пункта. Разница в том, что к имени поля добавляется заключенный в скобки порядковый номер детейла в массиве детейлов.
Пример имени поля детейла - `DetailName (n)(LinkedPrimaryKey)`, где DetailName - имя детейла, n - порядковый номер записи детейла, LinkedPrimaryKey - добавляется к имени, если это `AuditField` с изменением первичного ключа детейла.
