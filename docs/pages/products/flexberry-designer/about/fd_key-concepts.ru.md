---
title: Ключевые понятия объектной структуры
sidebar: flexberry-designer_sidebar
keywords: Flexberry Designer, мастер, детейл, ассоциация, наследование, стереотипы
summary: Понятие мастера, детейла, связей между классами, стереотипы классов
toc: true
permalink: ru/fd_key-concepts.html
lang: ru
---

## Ключевые понятия

Структура данных определяет структуру приложения. В основу систем кладётся структура данных, выражаемая диаграммой классов UML.

Рассмотрим на примере диаграммы классов основные понятия на основе элементарных понятий `UML` (не рассматриваются понятия атрибута, метода, параметра метода, типа, роли ассоциации и т.п., поскольку они очевидны и целиком заимствуются из `UML`). Данная [диаграмма классов](fd_class-diagram.html) также иллюстрирует типовые ситуации, возникающие при проектировании. Любые другие ситуации — следствия из данной диаграммы.

![](/images/pages/products/flexberry-designer/about/uml-example1.jpg)

Класс, относительно которого в конкретной ситуации рассматриваются ассоциации, называется `внутренним классом`, а остальные — `внешними`.

`Вложением (подобъектом)` называется атрибут класса, чей тип — другой класс.

### Мастеровые ассоциации

Ассоциации, подобные ассоциации между `Internal` и `Master1` называются [мастеровыми](fd_master-association.html), а внешний класс со стороны множественности 1, либо 0..1 называется `мастеровым` или `мастером`. 

[Мастеровая ассоциация](fd_master-association.html) может быть проведена между классами, каждый из которых является детейлом, а шапка у них общая. Пример этому — ассоциация `Detail2-Detail3`.

### Детейловые композиции, агрегатор, шапка

Ассоциации агрегации или агрегации-композиции, подобные `Internal-Detail1` называются [детейловыми](fo_detail-associations-properties.html), а внешний класс — `детейловым`, либо просто `детейлом`. Внутренний класс по отношению к детейлу также называют `агрегатором или шапкой`.

### Наследование

Ассоциации наследования, подобные `Internal-InternalChild` называются [наследованием](fd_inheritance.html), внутренний класс в такой ассоциации — `предок`, а внешний — `потомок`. 

*При наследовании атрибутный состав и состав связей всегда расширяется и не может сокращаться.*

[Flexberry ORM](fo_flexberry-orm.html) полностью реализует объектно-ориентированную концепцию, поскольку кроме инкапсуляции и полиморфизма даёт возможность полноценно использовать наследование при объектно-реляционном отображении.

### Стереотипы

Классам на диаграмме классов приписываются стереотипы, позволяющие указать назначение того или иного `UML`-класса.

В `Flexberry Designer` предопределены следующие стереотипы:

* [Implementation](fd_data-classes.html), стереотип по-умолчанию (на диаграммах указывается пустым значением), обычный `UML`-класс, реализуемый в исходный код классами объектов данных. Классы могут связываться любыми ассоциациями;
* [TypeDef](fd_typedef.html), стереотип, указывающий синоним типа. При генерации кода синонимы приводятся к базовым типам целевого языка с помощью пользователя (в код попадает базовый тип, а синоним не указывается никак). На диаграммах не может быть связан никакими ассоциациями;
* [Type](fd_data-types-properties.html), стереотип, вводящий новый тип. При генерации кода на целевом языке объявляется этот тип, и при объявлениях членов классов, параметров и т.п. используется он. 
* [Enumeration](fd_enumerations.html), стереотип, вводящий перечислимый тип. На диаграммах не может быть связан никакими ассоциациями;
* [Interface](fd_interfaces.html), стереотип, вводящий `.Net`-интерфейс. Интерфейсы могут связываться любыми ассоциациями;
* [BusinessServer](fd_business-servers.html), стереотип, соответствующий бизнес-серверу — `.Net` классу, где расположена реализация бизнес-операций прикладной системы;
* [EditForm](fd_additional-stereotypes.html), стереотип, соответствующий форме редактирования — `.Net` классу, где расположена реализация формы для редактирования объекта данных;
* [ListForm](fd_additional-stereotypes.html), стереотип, соответствующий форме списка — `.Net` классу, где расположена реализация формы для отображения списка объектов данных;
* PrintForm, стереотип, соответствующий форме печати — .Net классу, где расположена реализация формы для печати;
* [UserForm](fd_additional-stereotypes.html), стереотип, соответствующий пустой форме;
* [EventArg](fd_eventarg.html), стереотип, соответствующий параметрам события (event), при генерации полученный класс наследуется от `System.EventArgs`;
* [Application](fd_additional-stereotypes.html), стереотип, соответствующий приложению: форме рабочего стола и настроечному классу;
* Role, стереотип, соответствующий роли в системе полномочий;
* [External](fd_external-classes.html), стереотип, соответствующий любому внешнему (не объявленному в `CASE`, языковому) классу.
* [ExternalInterface](fd_externalInterface.html), стереотип, соответствующий любому внешнему (не объявленному) интерфейсу.
* Пользователь может указать произвольный стереотип.

### Неочевидные ограничения объектной структуры (как не надо делать)

Нотация `UML` описывает назначение своих элементов, однако никак не декларирует «правильность» их использования.

Поэтому, рассмотрим основные неочевидные ограничения, которые не описываются нотацией, вызывают затруднения при понимании, невозможны при реализации, __которых следует избегать__.

#### Циклические детейлы

Детейл любого уровня не может являться наследником шапки, поскольку в таком случае получается что объект наследника должен включать сам себя.

![](/images/pages/products/flexberry-designer/about/uml-example2.jpg)

#### Противоречивая агрегация

Наследник от детейла не может являться детейлом наследника шапки.

![](/images/pages/products/flexberry-designer/about/uml-example3.jpg)

#### Однако

Вот такая ситуация возможна:

![](/images/pages/products/flexberry-designer/about/lookup-as-master.png)
